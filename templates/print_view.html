$def with (invoice, client, items)

<html>
<head>
	<title>Invoice #$:invoice.id</title>
</head>

<body>

<h1>Invoice #$:invoice.id</h1>

<div class="invoice-info">
	<p><strong>Project:</strong> $:invoice.project_title</p>
	<p><strong>Description:</strong> $:invoice.description</p>
	<p><strong>Date:</strong> $:invoice.date</p>
</div>

<div class="client-info">
	<h3>Client</h3>
	<p class="contact-name"><strong>$:client.contact</strong></p>
	<address>
		<p class="name">$:client.name</p>
		$:client.address<br />
		$:client.city, $:client.state $:client.zip_code
		<p>Tel: $:client.phone</p>
		<p>Email: $:client.email</p>
	</address>
</div>

<table class="items">
	<thead>
		<tr>
			<th>Date</th>
			<th>Description</th>
			<th>Rate</th>
			<th>Hours</th>
			<th>Cost</th>
		</tr>
	</thead>
	<tbody>
		$ total = 0
		$for i in items:
			<tr>
				<td>$:i.date</td>
				<td>$:i.description</td>
				<td>$:i.rate</td>
				<td>$:i.hrs</td>
				<td>$:(i.rate * i.hrs)</td>
			</tr>
			$ total += (i.rate * i.hrs)
	</tbody>
	<tfoot>
		<tr>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td class="total-label">Total</td>
			<td class="total">$:total</td>
		</tr>
	</tfoot>
</table>

</body>